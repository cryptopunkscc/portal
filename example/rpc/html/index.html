<!DOCTYPE html>
<html lang="en">
<script src="portal.js"></script>
<script>
  async function rpc() {
    portal.log(portal.platform)

    const rpc = portal.rpc
    let conn = await rpc.conn("example.rpc.js")
    conn = conn.bind("get", "sum")
    console.log(conn)

    let result = await conn.get("Hello from front")
    alert(JSON.stringify(result))

    result = await conn.sum(1, 2)
    alert(result)

    await conn.close()
  }

  rpc().catch(console.log)
</script>
</html>
